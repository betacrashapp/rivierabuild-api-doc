<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for an API Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Riviera Build API! You can use our API to access Riviera Build API endpoints, which can get information on the applications you have access to, builds uploaded, even upload new builds!</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre><code class="highlight shell"><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://apps.rivierabuild.com/v1/applications"</span>
  -H <span class="s2">"api-key: your-api-key"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">your-api-key</code> with your API key.</p>
</blockquote>

<p>Riviera Build uses API keys to allow access to the API. You can get your Riviera Build API key in the <a href="https://apps.rivierabuild.com/settings">settings section</a>.</p>

<p>Riviera Build expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">api-key: your-api-key</code></p>

<aside class="notice">
You must replace `your-api-key` with your personal API key.
</aside>

<h1 id="applications">Applications</h1>

<p>Applications are to RivieraBuild, what folders are to file systems. It allows you to organize the builds you upload.  </p>

<h2 id="get-all-applications">Get All applications</h2>
<pre><code class="highlight shell">curl <span class="s2">"https://apps.rivierabuild.com/v1/applications"</span>
  -H <span class="s2">"api-key: your-api-key"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Crazy App"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logo_url"</span><span class="p">:</span><span class="s2">"https://example.com/image.png"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Simple App"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logo_url"</span><span class="p">:</span><span class="s2">"https://example.com/image.png"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all applications.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://apps.rivierabuild.com/v1/applications</code></p>

<h2 id="create-an-application">Create an application</h2>
<pre><code class="highlight shell">curl -XPOST <span class="s2">"https://apps.rivierabuild.com/v1/applications"</span>
  -H <span class="s2">"api-key: your-api-key"</span>
  -F <span class="s1">'application[name]=Example App'</span>
  -F <span class="nv">file</span><span class="o">=</span>@<span class="s2">"/path/to/the/image/to/upload"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Example App"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo_url"</span><span class="p">:</span><span class="s2">"https://example.com/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"icon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"url"</span><span class="p">:</span><span class="s2">"https://example.com/image.png"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates an application.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://apps.rivierabuild.com/v1/applications</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>application[name]</td>
<td>Name of the application</td>
</tr>
<tr>
<td>file</td>
<td>Logo image file, as part of the the POST body (Optional)</td>
</tr>
</tbody></table>

<h2 id="delete-an-application">Delete an application</h2>
<pre><code class="highlight shell">curl -XDELETE <span class="s2">"https://apps.rivierabuild.com/v1/applications/1"</span>
  -H <span class="s2">"api-key: your-api-key"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="s2">"deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint deletes an application.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://apps.rivierabuild.com/v1/applications/&lt;ID&gt;</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>Application ID</td>
</tr>
</tbody></table>

<h1 id="builds">Builds</h1>

<h2 id="upload-a-build">Upload a build</h2>
<pre><code class="highlight shell">curl -XPOST <span class="s2">"https://apps.rivierabuild.com/v1/builds"</span>
  -H <span class="s2">"api-key: your-api-key"</span>
  -F <span class="nv">file</span><span class="o">=</span>@<span class="s2">"/path/to/ipa/file"</span>
  -F <span class="nv">availability</span><span class="o">=</span><span class="s2">"1_week"</span>
  -F <span class="nv">passcode</span><span class="o">=</span><span class="s2">"secretpassword"</span>
  -F <span class="nv">app_id</span><span class="o">=</span><span class="s2">"1"</span>
  -F <span class="nv">commit_sha</span><span class="o">=</span><span class="s2">"ewtotj4535ogjropgjerotj3"</span>
  -F <span class="nv">note</span><span class="o">=</span><span class="s2">"This build is awesome!"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"file_url"</span><span class="p">:</span><span class="s2">"https://apps.rivierabuild.com/get/dovjek"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint uploads a build to Riviera Build.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://apps.rivierabuild.com/v1/builds</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>IPA of APK file to upload</td>
</tr>
<tr>
<td>availability</td>
<td>Determines for how long the build will be available. Available values: 10_minutes, 1_hour, 3_hours, 6_hours, 12_hours, 24_hours, 1_week, 2_weeks, 1_month, 2_months</td>
</tr>
<tr>
<td>passcode</td>
<td>Optional password that would be required to install the build</td>
</tr>
<tr>
<td>app_id</td>
<td>Optional application ID that you want to associate your build to</td>
</tr>
<tr>
<td>commit_sha</td>
<td>Optional Commit SHA associated to this build</td>
</tr>
<tr>
<td>note</td>
<td>Optional release note. Support Markdown.</td>
</tr>
</tbody></table>

<h2 id="latest-build">Latest build</h2>
<pre><code class="highlight shell">curl -XGET <span class="s2">"https://apps.rivierabuild.com/v1/applications/1/builds/latest"</span>
  -H <span class="s2">"api-key: your-api-key"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">59</span><span class="p">,</span><span class="w">
  </span><span class="s2">"build_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyApp.ipa"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-22T18:33:42.861Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"build_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"App Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some note you wrote earlier"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-19T18:33:42.723Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"commit_sha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ewfwefonwerfgoinrgerogrgojergpojergoeprgjerpogjer"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint uploads a build to Riviera Build.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://apps.rivierabuild.com/v1/applications/&lt;app_id&gt;/builds/latest</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>app_id</td>
<td>Application ID</td>
</tr>
</tbody></table>

          
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
